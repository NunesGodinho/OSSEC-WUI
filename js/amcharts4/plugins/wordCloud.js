/**
 * @license
 * Copyright (c) 2018 amCharts (Antanas Marcelionis, Martynas Majeris)
 *
 * This sofware is provided under multiple licenses. Please see below for
 * links to appropriate usage.
 *
 * Free amCharts linkware license. Details and conditions:
 * https://github.com/amcharts/amcharts4/blob/master/LICENSE
 *
 * One of the amCharts commercial licenses. Details and pricing:
 * https://www.amcharts.com/online-store/
 * https://www.amcharts.com/online-store/licenses-explained/
 *
 * If in doubt, contact amCharts at contact@amcharts.com
 *
 * PLEASE DO NOT REMOVE THIS COPYRIGHT NOTICE.
 * @hidden
 */
am4internal_webpackJsonp(["4859"],{"6JTK":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={};r.d(i,"WordCloudDataItem",function(){return _}),r.d(i,"WordCloud",function(){return C}),r.d(i,"WordCloudSeriesDataItem",function(){return v}),r.d(i,"WordCloudSeries",function(){return x});var n=r("m4/l"),a=r("2I/e"),o=r("aM7D"),s=r("Vs7R"),l=r("C6dT"),u=r("p9TX"),h=r("vMqJ"),p=r("8ZqG"),c=r("aCit"),d=r("hGwe"),m=r("v9UT"),f=r("Gg2j"),y=r("58Sn"),g=r("tjMS"),b=r("hD5A"),v=function(e){function t(){var t=e.call(this)||this;return t.className="WordCloudSeriesDataItem",t.applyTheme(),t}return n.c(t,e),t.prototype.hide=function(t,r,i,n){return n||(n=["value"]),e.prototype.hide.call(this,t,r,0,n)},t.prototype.setVisibility=function(t,r){r||(t?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),e.prototype.setVisibility.call(this,t,r)},t.prototype.show=function(t,r,i){return i||(i=["value"]),e.prototype.show.call(this,t,r,i)},Object.defineProperty(t.prototype,"word",{get:function(){return this.properties.word},set:function(e){this.setProperty("word",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var t=this.component.labels.create();this._label=t,this._disposers.push(t),t.parent=this.component.labelsContainer,t.isMeasured=!1,t.x=Object(g.c)(50),t.y=Object(g.c)(50),t.fontSize=0,this.component.colors&&(t.fill=this.component.colors.next()),this._disposers.push(new b.b(function(){e.component&&e.component.labels.removeValue(t)})),this.addSprite(t),t.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),t}(o.b),x=function(e){function t(){var t=e.call(this)||this;t._adjustedFont=1,t.className="WordCloudSeries",t.accuracy=5,t.isMeasured=!0,t.minFontSize=Object(g.c)(2),t.maxFontSize=Object(g.c)(20),t.excludeWords=[],t.layout="absolute",t.angles=[0,0,90],t.rotationThreshold=.7,t.minWordLength=1,t.width=Object(g.c)(100),t.height=Object(g.c)(100),t.step=15,t.randomness=.2,t.labels.template.horizontalCenter="middle",t.labels.template.verticalCenter="middle",t.itemReaderText="{word}: {value}",t.applyTheme();var r=document.createElement("canvas");r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.opacity="0.5",t._canvas=r,t._ctx=r.getContext("2d"),t._maskSprite=t.createChild(s.a);var i=t.createChild(l.a);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",t.labelsContainer=i,t._spiral=i.createChild(s.a),t._spiral.fillOpacity=.1,t._spiral.strokeOpacity=1,t._spiral.stroke=Object(p.c)("#000"),t}return n.c(t,e),t.prototype.validateDataRange=function(){e.prototype.validateDataRange.call(this),this.dataItems.each(function(e){m.used(e.label)})},t.prototype.validate=function(){e.prototype.validate.call(this),this._currentIndex=0,this.dataItems.values.sort(function(e,t){return e.value==t.value?0:e.value>t.value?-1:1}),this._processTimeout&&this._processTimeout.dispose();var t=this.innerWidth,r=this.innerHeight;if(t>0&&r>0){var i=this._ctx;this._canvas.width=t,this._canvas.height=r,i.fillStyle="white",i.fillRect(0,0,t,r),this._points=d.spiralPoints(0,0,t,r,0,this.step,this.step);for(var n=this.labelsContainer.rotation,a=this._points.length-1;a>=0;a--){var o=this._points[a];if(o.x<-t/2||o.x>t/2||o.y<-r/2||o.y>r/2)this._points.splice(a,1);else if(0!=n){var s=m.spritePointToSprite({x:o.x+t/2,y:o.y+r/2},this,this.labelsContainer);o.x=s.x,o.y=s.y}}var l=this._maskSprite;if(l.path){var u=this.maxWidth,h=this.maxHeight;l.isMeasured=!0,l.validate();var p=l.measuredWidth/l.scale,c=l.measuredHeight/l.scale,y=f.min(h/c,u/p);y==1/0&&(y=1),l.horizontalCenter="none",l.verticalCenter="none",l.x=0,l.y=0,l.scale=1,y=f.max(.001,y),l.horizontalCenter="middle",l.verticalCenter="middle",l.x=t/2,l.y=r/2,l.validatePosition(),this.mask=l,l.scale=y}this.events.isEnabled("arrangestarted")&&this.dispatchImmediately("arrangestarted"),this.processItem(this.dataItems.getIndex(this._currentIndex))}},t.prototype.processItem=function(e){var t=this,r=this._ctx,i=this.innerWidth,n=this.innerHeight;if(y.q(this.htmlContainer))return this._processTimeout=this.setTimeout(function(){t._currentIndex++,t.processItem(t.dataItems.getIndex(t._currentIndex))},500),void this._disposers.push(this._processTimeout);this.labelsContainer.x=i/2,this.labelsContainer.y=n/2;var a=e.label,o=y.k(a.element.node),s=f.min(this.innerHeight,this.innerWidth),l=m.relativeToValue(this.minFontSize,s),u=m.relativeToValue(this.maxFontSize,s),h=l+(u-l)*((e.value-this.dataItem.values.value.low)/this.dataItem.values.value.high)*this._adjustedFont,p=a.fontSize;a.fontSize=h;var c=0;(h-l)/(u-l)<this.rotationThreshold&&(c=this.angles[Math.round(Math.random()*(this.angles.length-1))]),a.fontSize=h,a.rotation=c,a.show(0),a.hardInvalidate(),a.validate();var d=a.maxLeft,g=a.maxRight,b=a.maxTop,v=a.maxBottom,x=!0,_=Math.round(Math.random()*this._points.length*this.randomness),C=a.pixelX,P=a.pixelY,w=0,I=0;for(m.used(this.labelsContainer.rotation);x;){if(_>this._points.length-1)return x=!1,this._adjustedFont-=.1,void this.invalidate();x=!1,w=this._points[_].x,I=this._points[_].y;for(var V=a.pixelMarginLeft,S=a.pixelMarginRight,W=a.pixelMarginTop,T={x:w+d-V,y:I+b-W,width:g-d+V+S,height:v-b+W+a.pixelMarginBottom},j=this._ctx.getImageData(T.x+i/2,T.y+n/2,T.width,T.height).data,O=0;O<j.length;O+=Math.pow(2,this.accuracy))if(255!=j[O]){x=!0,a.currentText.length>3&&(0==c&&g-d<60&&this._points.splice(_,1),90==Math.abs(c)&&v-b<50&&this._points.splice(_,1));break}_+=5}0==p?(a.animate([{property:"fontSize",to:h,from:p}],this.interpolationDuration,this.interpolationEasing),a.x=w,a.y=I):a.animate([{property:"fontSize",to:h,from:p},{property:"x",to:w,from:C},{property:"y",to:I,from:P}],this.interpolationDuration,this.interpolationEasing);var z=w+i/2,D=I+n/2;r.translate(z,D);var M=a.rotation*Math.PI/180;if(r.rotate(M),r.textAlign="center",r.textBaseline="middle",r.fillStyle="blue",r.font=h+"px "+o,r.fillText(a.currentText,0,0),r.rotate(-M),r.translate(-z,-D),a.showOnInit&&(a.hide(0),a.show()),this.events.isEnabled("arrangeprogress")){var F={type:"arrangeprogress",target:this,progress:(this._currentIndex+1)/this.dataItems.length};this.events.dispatchImmediately("arrangeprogress",F)}this._currentIndex<this.dataItems.length-1?(this._processTimeout=this.setTimeout(function(){t._currentIndex++,t.processItem(t.dataItems.getIndex(t._currentIndex))},1),this._disposers.push(this._processTimeout)):this.events.isEnabled("arrangeended")&&this.dispatchImmediately("arrangeended")},t.prototype.createLabel=function(){return new u.a},Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();e.applyOnClones=!0,this._disposers.push(e),e.text="{word}",e.margin(2,3,2,3),e.padding(0,0,0,0),this._labels=new h.e(e),this._disposers.push(new h.c(this._labels))}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createDataItem=function(){return new v},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),t.prototype.updateData=function(){this.data=this.getWords(this.text)},Object.defineProperty(t.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(e){this.setPropertyValue("text",e)&&this.updateData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(e){this.setPropertyValue("maxCount",e)&&this.updateData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e)&&this.updateData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"excludeWords",{get:function(){return this.getPropertyValue("excludeWords")},set:function(e){this.setPropertyValue("excludeWords",e)&&this.updateData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxFontSize",{get:function(){return this.getPropertyValue("maxFontSize")},set:function(e){this.setPropertyValue("maxFontSize",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minFontSize",{get:function(){return this.getPropertyValue("minFontSize")},set:function(e){this.setPropertyValue("minFontSize",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"randomness",{get:function(){return this.getPropertyValue("randomness")},set:function(e){this.setPropertyValue("randomness",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(e){this.setPropertyValue("step",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"accuracy",{get:function(){return this.getPropertyValue("accuracy")},set:function(e){this.setPropertyValue("accuracy",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWordLength",{get:function(){return this.getPropertyValue("minWordLength")},set:function(e){this.setPropertyValue("minWordLength",e)&&this.updateData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationThreshold",{get:function(){return this.getPropertyValue("rotationThreshold")},set:function(e){this.setPropertyValue("rotationThreshold",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angles",{get:function(){return this.getPropertyValue("angles")},set:function(e){this.setPropertyValue("angles",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.labels.template.copyFrom(t.labels.template)},t.prototype.getWords=function(e){if(e){this.dataFields.word="word",this.dataFields.value="value";var t=new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶ-ͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԣԱ-Ֆՙա-ևא-תװ-ײء-يٮ-ٯٱ-ۓەۥ-ۦۮ-ۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴ-ߵߺऄ-हऽॐक़-ॡॱ-ॲॻ-ॿঅ-ঌএ-ঐও-নপ-রলশ-হঽৎড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽૐૠ-ૡଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽଡ଼-ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘ-ౙౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹഽൠ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะา-ำเ-ๆກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆໜ-ໝༀཀ-ཇཉ-ཬྈ-ྋက-ဪဿၐ-ၕၚ-ၝၡၥ-ၦၮ-ၰၵ-ႁႎႠ-Ⴥა-ჺჼᄀ-ᅙᅟ-ᆢᆨ-ᇹሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙶᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦩᧁ-ᧇᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮ-ᮯᰀ-ᰣᱍ-ᱏᱚ-ᱽᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₔℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-Ɐⱱ-ⱽⲀ-ⳤⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆷㇰ-ㇿ㐀䶵一鿃ꀀ-ꒌꔀ-ꘌꘐ-ꘟꘪ-ꘫꙀ-ꙟꙢ-ꙮꙿ-ꚗꜗ-ꜟꜢ-ꞈꞋ-ꞌꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꤊ-ꤥꤰ-ꥆꨀ-ꨨꩀ-ꩂꩄ-ꩋ가힣豈-鶴侮-頻並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9@+]+","ig"),r=e.match(t);if(!r)return[];for(var i=[],n=void 0;n=r.pop();){for(var a=void 0,o=0;o<i.length;o++)if(i[o].word.toLowerCase()==n.toLowerCase()){a=i[o];break}a?(a.value++,this.isCapitalized(n)||(a.word=n)):i.push({word:n,value:1})}var s=this.excludeWords;if(this.minValue>1||this.minWordLength>1||s&&s.length>0)for(o=i.length-1;o>=0;o--){var l=i[o];l.value<this.minValue&&i.splice(o,1),l.word.length<this.minWordLength&&i.splice(o,1),-1!==s.indexOf(l.word)&&i.splice(o,1)}return i.sort(function(e,t){return e.value==t.value?0:e.value>t.value?-1:1}),i.length>this.maxCount&&(i=i.slice(0,this.maxCount)),i}},t.prototype.isCapitalized=function(e){var t=e.toLowerCase();return e[0]!=t[0]&&e.substr(1)==t.substr(1)&&e!=t},t}(o.a);c.b.registeredClasses.WordCloudSeries=x,c.b.registeredClasses.WordCloudSeriesDataItem=v;var _=function(e){function t(){var t=e.call(this)||this;return t.className="WordCloudDataItem",t.applyTheme(),t}return n.c(t,e),t}(a.b),C=function(e){function t(){var t=e.call(this)||this;return t.className="WordCloud",t.seriesContainer.isMeasured=!0,t.seriesContainer.layout="absolute",t.applyTheme(),t}return n.c(t,e),t.prototype.createSeries=function(){return new x},t}(a.a);c.b.registeredClasses.WordCloud=C,c.b.registeredClasses.WordCloudDataItem=_,window.am4plugins_wordCloud=i}},["6JTK"]);
//# sourceMappingURL=wordCloud.js.map